(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(4),i=n.n(o),a=(n(9),n(2)),s=(n(10),n(11),function(e){var t,n,c,r=null===e||void 0===e||null===(t=e.item)||void 0===t||null===(n=t.enrichment)||void 0===n||null===(c=n.images)||void 0===c?void 0:c[0];return"".concat(null===r||void 0===r?void 0:r.base_url).concat(null===r||void 0===r?void 0:r.primary)||"/placeholder-product-image.png"}),l=n(0);var u=function(e){var t,n=e.selectedProduct,r=e.fetchProduct,o=Object(c.useState)([]),i=Object(a.a)(o,2),u=i[0],d=i[1],j=null===n||void 0===n||null===(t=n.item)||void 0===t?void 0:t.tcin;return Object(c.useEffect)((function(){fetch("/products").then((function(e){return e.json()})).then((function(e){return d(e)}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Featured Products"}),Object(l.jsx)("div",{className:"flex overflow-auto space-between",children:null===u||void 0===u?void 0:u.map((function(e){var t,n=null===e||void 0===e||null===(t=e.item)||void 0===t?void 0:t.tcin,c=n===j;return Object(l.jsx)("button",{className:"cursor-pointer",onClick:function(){return r(n)},children:Object(l.jsx)("img",{className:c?"selectedProduct":null,alt:"",src:s(e),height:"150px"},n)})}))})]})};n(13);var d=function(e){var t,n=e.product,r=void 0===n?{}:n,o=e.fetchProduct,i=r.priceInfo,u=r.item,d=(u=void 0===u?{}:u).product_description,j=u.tcin,m=Object(c.useState)(null===i||void 0===i?void 0:i.price),h=Object(a.a)(m,2),b=h[0],f=h[1],v=Object(c.useState)(),p=Object(a.a)(v,2),O=p[0],x=p[1];return Object(c.useEffect)((function(){f(null===i||void 0===i?void 0:i.price)}),[r]),Object(l.jsxs)("div",{className:"product-detailed-view flex flex-column",children:[Object(l.jsxs)("div",{className:"p20 mc",children:[Object(l.jsx)("img",{alt:"",src:s(r),height:"250px"}),Object(l.jsx)("h2",{className:"f1",dangerouslySetInnerHTML:{__html:null===d||void 0===d?void 0:d.title}}),Object(l.jsxs)("p",{children:[null===i||void 0===i?void 0:i.currency,(null===i||void 0===i?void 0:i.price)||"See price in cart"]})]}),Object(l.jsxs)("div",{className:"p20",children:[Object(l.jsx)("p",{className:"m0",dangerouslySetInnerHTML:{__html:null===d||void 0===d?void 0:d.downstream_description}}),Object(l.jsx)("div",{className:"mt20",children:null===d||void 0===d||null===(t=d.bullet_description)||void 0===t?void 0:t.map((function(e,t){return Object(l.jsx)("div",{dangerouslySetInnerHTML:{__html:e}},t)}))}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),x();var t={method:"PUT",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify({price:b})};fetch("/products/".concat(j),t).then((function(e){if(!e.ok)return e.text().then((function(e){throw new Error(e)}));o(j)})).catch((function(e){x(e.message||"An unknown error occurred")}))},children:[Object(l.jsx)("input",{className:"mt20",type:"number",step:"any",value:b,onChange:function(e){return f(Number(e.target.value))}}),Object(l.jsx)("input",{className:"mb20",type:"submit",value:"Update Price"})]}),Object(l.jsx)("span",{className:"ml20 red",children:O})]})]})};n(14);var j=function(e){var t=e.fetchProduct,n=Object(c.useState)(""),r=Object(a.a)(n,2),o=r[0],i=r[1];return Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(o)},children:[Object(l.jsx)("input",{type:"text",maxLength:8,value:o,onChange:function(e){return i(e.target.value)}}),Object(l.jsx)("input",{className:"mb20",type:"submit",value:"Search Product"})]})};var m=function(){var e=Object(c.useState)(),t=Object(a.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)(),i=Object(a.a)(o,2),s=i[0],m=i[1],h=function(e){m(),fetch("/products/".concat(e)).then((function(e){return e.ok?e.json():e.text().then((function(e){throw new Error(e)}))})).then((function(e){return r(e)})).catch((function(e){m(e.message||"An unknown error occurred")}))};return Object(c.useEffect)((function(){h("13860428")}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("header",{className:"globalHeader p20",children:Object(l.jsx)("h1",{className:"m0",children:"myRetail Product Data Interface"})}),Object(l.jsxs)("div",{className:"content p20 mc",children:[Object(l.jsx)(j,{fetchProduct:h}),Object(l.jsx)("div",{className:"red",children:s}),Object(l.jsx)(d,{product:n,fetchProduct:h}),Object(l.jsx)(u,{selectedProduct:n,fetchProduct:h})]}),Object(l.jsxs)("footer",{className:"globalFooter flex flex-column text-center",children:[Object(l.jsxs)("p",{children:["Joon Park",Object(l.jsx)("a",{className:"ml20",href:"mailto:joonmopark94@gmail.com",children:"joonmopark94@gmail.com"})]}),Object(l.jsxs)("p",{className:"mt0",children:[Object(l.jsx)("a",{href:"https://www.linkedin.com/in/joon-park",target:"_blank",children:"LinkedIn"}),Object(l.jsx)("a",{className:"ml20",href:"https://github.com/parkjoon/myretail",target:"_blank",children:"GitHub Repo"})]})]})]})},h=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,16)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),r(e),o(e),i(e)}))};i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(m,{})}),document.getElementById("root")),h()}],[[15,1,2]]]);
//# sourceMappingURL=main.cef049df.chunk.js.map