{"version":3,"sources":["utils/product.js","modules/FeaturedProducts/index.js","modules/ProductDetailedView/index.js","modules/ProductSearch/index.js","App.js","reportWebVitals.js","index.js"],"names":["getProductImage","product","image","item","enrichment","images","base_url","primary","FeaturedProducts","selectedProduct","fetchProduct","useState","featuredProducts","setFeaturedProducts","selectedProductTcin","tcin","useEffect","fetch","then","res","json","className","map","isSelected","onClick","alt","src","height","ProductDetailedView","priceInfo","product_description","price","priceValue","setPriceValue","errorText","setErrorText","dangerouslySetInnerHTML","__html","title","currencyUnit","downstream_description","bullet_description","b","i","type","value","onChange","e","Number","target","options","method","headers","body","JSON","stringify","catch","console","error","ProductSearch","searchValue","setSearchValue","maxLength","App","setProduct","status","Error","p","message","href","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6afcaa47.chunk.js","sourcesContent":["export const placeholderProductImage = \"/placeholder-product-image.png\";\n\nexport const getProductImage = (product) => {\n  const image = product?.item?.enrichment?.images?.[0];\n  return `${image?.base_url}${image?.primary}` || placeholderProductImage;\n};\n","import \"./FeaturedProducts.css\";\n\nimport { useEffect, useState } from \"react\";\n\nimport { getProductImage } from \"../../utils/product\";\n\nfunction FeaturedProducts({ selectedProduct, fetchProduct }) {\n  const [ featuredProducts, setFeaturedProducts ] = useState([]);\n\n  const selectedProductTcin = selectedProduct?.item?.tcin;\n\n  useEffect(() => {\n    fetch(\"/products\")\n      .then(res => res.json())\n      .then(featuredProducts => setFeaturedProducts(featuredProducts));\n  }, []);\n\n  return (\n    <>\n      <h2>Featured Products</h2>\n      <div className=\"flex overflow-auto space-between\">\n        {featuredProducts?.map(product => {\n          const tcin = product?.item?.tcin;\n          const isSelected = tcin === selectedProductTcin;\n          return (\n              <button className=\"cursor-pointer\" onClick={() => fetchProduct(tcin)}>\n                <img\n                    key={tcin}\n                    className={isSelected ? \"selectedProduct\" : null}\n                    alt=\"\"\n                    src={getProductImage(product)} height=\"150px\"\n                />\n              </button>\n          );\n        })}\n      </div>\n    </>\n  );\n}\n\nexport default FeaturedProducts;\n","import \"./ProductDetailedView.css\";\n\nimport { useEffect, useState } from \"react\";\n\nimport { getProductImage } from \"../../utils/product\"\n\nfunction ProductDetailedView({ product = {}, fetchProduct }) {\n  const {\n    priceInfo,\n    item: {\n      product_description,\n      tcin\n    } = {}\n  } = product;\n\n  const [ priceValue, setPriceValue ] = useState(priceInfo?.price);\n  const [ errorText, setErrorText ] = useState(\"\");\n\n  const handleUpdatePrice = () => {\n    setErrorText(\"\");\n\n    const options = {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify({ price: priceValue })\n    };\n    fetch(`/products/${tcin}`, options)\n      .then(() => {\n        fetchProduct(tcin);\n      })\n      .catch(e => {\n        console.error(e);\n        setErrorText(JSON.stringify(e));\n      });\n  };\n\n  useEffect(() => {\n    setPriceValue(priceInfo?.price);\n  }, [ product ]);\n\n  return (\n    <div className=\"product-detailed-view flex flex-column\">\n      <div className=\"p20 mc\">\n        <img alt=\"\" src={getProductImage(product)} height=\"250px\" />\n        <h2 className=\"f1\" dangerouslySetInnerHTML={{ __html: product_description?.title }}/>\n        <p>{priceInfo?.currencyUnit}{priceInfo?.price || \"See price in cart\"}</p>\n      </div>\n      <div className=\"p20\">\n        <p className=\"m0\" dangerouslySetInnerHTML={{ __html: product_description?.downstream_description }} />\n        <div className=\"mt20\">\n          {product_description?.bullet_description?.map(\n            (b, i) => <div key={i} dangerouslySetInnerHTML={{ __html: b }} />)\n          }\n        </div>\n        <input\n          className=\"mt20\"\n          type=\"number\"\n          value={priceValue}\n          onChange={(e) => setPriceValue(Number(e.target.value))}\n        />\n        <button className=\"mb20\" onClick={handleUpdatePrice}>Update Price</button>\n        <span className=\"ml20 red\">{errorText}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default ProductDetailedView;\n","import \"./ProductSearch.css\";\n\nimport { useState } from \"react\";\n\nfunction ProductSearch({ fetchProduct }) {\n  const [ searchValue, setSearchValue ] = useState(\"\");\n\n  return (\n      <>\n        <input\n          type=\"text\"\n          maxLength={8}\n          value={searchValue}\n          onChange={(e) => setSearchValue(e.target.value)}\n        />\n        <button className=\"mb20\" onClick={() => fetchProduct(searchValue)}>\n          Search Product\n        </button>\n      </>\n  );\n}\n\nexport default ProductSearch;\n","import \"./App.css\";\n\nimport { useEffect, useState } from \"react\";\n\nimport FeaturedProducts from \"./modules/FeaturedProducts\";\nimport ProductDetailedView from \"./modules/ProductDetailedView\";\nimport ProductSearch from \"./modules/ProductSearch\";\n\nconst initialProductId = \"13860428\";\n\nfunction App() {\n  const [ product, setProduct ] = useState();\n  const [ errorText, setErrorText ] = useState(\"\");\n\n  const fetchProduct = (tcin) => {\n    setErrorText(\"\");\n    fetch(`/products/${tcin}`)\n      .then(res => {\n        if (res.status !== 200) {\n          throw new Error(\"Unable to find product\");\n        }\n        return res.json();\n      })\n      .then(p => setProduct(p))\n      .catch(e => {\n        console.error(e);\n        setErrorText(e.message || \"An unknown error has occurred\");\n      });\n  };\n\n  useEffect(() => {\n    fetchProduct(initialProductId);\n  }, []);\n\n  return (\n    <>\n      <header className=\"globalHeader p20\">\n        <h1 className=\"m0\">myRetail Product Data Interface</h1>\n      </header>\n\n      <div className=\"content p20 mc\">\n        <ProductSearch fetchProduct={fetchProduct} />\n        <div className=\"red\">{errorText}</div>\n        <ProductDetailedView product={product} fetchProduct={fetchProduct} />\n        <FeaturedProducts selectedProduct={product} fetchProduct={fetchProduct} />\n      </div>\n\n      <footer className=\"globalFooter flex flex-column text-center\">\n        <p>\n          Joon Park\n          <a className=\"ml20\" href=\"mailto:joonmopark94@gmail.com\">joonmopark94@gmail.com</a>\n        </p>\n        <p className=\"mt0\">\n          <a href=\"https://www.linkedin.com/in/joon-park\" target=\"_blank\">\n            LinkedIn\n          </a>\n          <a className=\"ml20\" href=\"https://github.com/parkjoon/myretail\" target=\"_blank\">\n            GitHub Repo\n          </a>\n        </p>\n      </footer>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}