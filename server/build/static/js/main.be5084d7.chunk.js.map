{"version":3,"sources":["utils/product.js","modules/FeaturedProducts/index.js","modules/ProductDetailedView/index.js","modules/ProductSearch/index.js","App.js","reportWebVitals.js","index.js"],"names":["getProductImage","product","item","enrichment","images","base_url","primary","FeaturedProducts","selectedProduct","fetchProduct","useState","featuredProducts","setFeaturedProducts","selectedProductTcin","tcin","useEffect","fetch","then","res","json","className","map","isSelected","onClick","alt","src","height","ProductDetailedView","priceInfo","product_description","price","priceValue","setPriceValue","errorText","setErrorText","dangerouslySetInnerHTML","__html","title","currency","downstream_description","bullet_description","b","i","onSubmit","e","preventDefault","options","method","headers","body","JSON","stringify","ok","text","msg","Error","catch","message","type","step","value","onChange","Number","target","ProductSearch","searchValue","setSearchValue","maxLength","App","setProduct","p","href","rel","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"2PAEaA,G,YAAkB,SAACC,GAAa,IAAD,SACL,OAAPA,QAAO,IAAPA,GAAA,UAAAA,EAASC,YAAT,mBAAeC,kBAAf,mBAA2BC,cAA3B,eAAoC,KAAM,GAAhEC,EADkC,EAClCA,SAAUC,EADwB,EACxBA,QAClB,OAAOD,GAAYC,EAAZ,UAAyBD,GAAzB,OAAoCC,GAJN,mC,OCwCxBC,MAlCf,YAA8D,IAAD,EAAjCC,EAAiC,EAAjCA,gBAAiBC,EAAgB,EAAhBA,aAAgB,EACTC,mBAAS,IADA,mBACnDC,EADmD,KACjCC,EADiC,KAGrDC,EAAmB,OAAGL,QAAH,IAAGA,GAAH,UAAGA,EAAiBN,YAApB,aAAG,EAAuBY,KAQnD,OANAC,qBAAU,WACRC,MAAM,aACHC,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAN,GAAgB,OAAIC,EAAoBD,QAC/C,IAGD,qCACE,mDACA,qBAAKS,UAAU,mCAAf,gBACGT,QADH,IACGA,OADH,EACGA,EAAkBU,KAAI,SAAApB,GAAY,IAAD,EAC1Ba,EAAI,OAAGb,QAAH,IAAGA,GAAH,UAAGA,EAASC,YAAZ,aAAG,EAAeY,KACtBQ,EAAaR,IAASD,EAC5B,OACI,wBAAQO,UAAU,iBAAiBG,QAAS,kBAAMd,EAAaK,IAA/D,SACE,qBAEIM,UAAWE,EAAa,kBAAoB,KAC5CE,IAAI,GACJC,IAAKzB,EAAgBC,GAAUyB,OAAO,SAHjCZ,c,MCmDVa,MAxEf,YAA8D,IAAD,MAA9B1B,eAA8B,MAApB,GAAoB,EAAhBQ,EAAgB,EAAhBA,aAEzCmB,EAKE3B,EALF2B,UAFyD,EAOvD3B,EAJFC,KACE2B,GAJuD,aAMrD,GANqD,GAIvDA,oBACAf,EALuD,EAKvDA,KALuD,EASrBJ,mBAAQ,OAACkB,QAAD,IAACA,OAAD,EAACA,EAAWE,OATC,mBASnDC,EATmD,KASvCC,EATuC,OAUvBtB,qBAVuB,mBAUnDuB,EAVmD,KAUxCC,EAVwC,KA0C3D,OAJAnB,qBAAU,WACRiB,EAAa,OAACJ,QAAD,IAACA,OAAD,EAACA,EAAWE,SACxB,CAAE7B,EAAF,OAAW2B,QAAX,IAAWA,OAAX,EAAWA,EAAWE,QAGvB,sBAAKV,UAAU,yCAAf,UACE,sBAAKA,UAAU,SAAf,UACE,qBAAKI,IAAI,GAAGC,IAAKzB,EAAgBC,GAAUyB,OAAO,UAClD,oBAAIN,UAAU,KAAKe,wBAAyB,CAAEC,OAAM,OAAEP,QAAF,IAAEA,OAAF,EAAEA,EAAqBQ,SAC3E,qCAAIT,QAAJ,IAAIA,OAAJ,EAAIA,EAAWU,UAAmB,OAATV,QAAS,IAATA,OAAA,EAAAA,EAAWE,QAAS,0BAE/C,sBAAKV,UAAU,MAAf,UACE,mBAAGA,UAAU,KAAKe,wBAAyB,CAAEC,OAAM,OAAEP,QAAF,IAAEA,OAAF,EAAEA,EAAqBU,0BAC1E,qBAAKnB,UAAU,OAAf,gBACGS,QADH,IACGA,GADH,UACGA,EAAqBW,0BADxB,aACG,EAAyCnB,KACxC,SAACoB,EAAGC,GAAJ,OAAU,qBAAaP,wBAAyB,CAAEC,OAAQK,IAAtCC,QAGxB,uBAAMC,SA5Cc,SAACC,GACzBA,EAAEC,iBACFX,IAEA,IAAMY,EAAU,CACdC,OAAQ,MACRC,QAAS,CACP,eAAgB,mCAElBC,KAAMC,KAAKC,UAAU,CAAErB,MAAOC,KAEhCf,MAAM,aAAD,OAAcF,GAAQgC,GACxB7B,MAAK,SAAAC,GACJ,IAAIA,EAAIkC,GAGN,OAAOlC,EAAImC,OAAOpC,MAAK,SAAAqC,GACrB,MAAM,IAAIC,MAAMD,MAHlB7C,EAAaK,MAOhB0C,OAAM,SAAAZ,GACLV,EAAaU,EAAEa,SAAW,iCAsB1B,UACE,uBACErC,UAAU,OACVsC,KAAK,SACLC,KAAK,MACLC,MAAO7B,EACP8B,SAAU,SAACjB,GAAD,OAAOZ,EAAc8B,OAAOlB,EAAEmB,OAAOH,WAEjD,uBAAOxC,UAAU,OAAOsC,KAAK,SAASE,MAAM,oBAE9C,sBAAMxC,UAAU,WAAhB,SAA4Ba,W,MC/CrB+B,MArBf,YAA0C,IAAjBvD,EAAgB,EAAhBA,aAAgB,EACCC,mBAAS,IADV,mBAC/BuD,EAD+B,KAClBC,EADkB,KAQvC,OACE,uBAAMvB,SANoB,SAAAC,GAC1BA,EAAEC,iBACFpC,EAAawD,IAIb,UACE,uBACEP,KAAK,OACLS,UAAW,EACXP,MAAOK,EACPJ,SAAU,SAACjB,GAAD,OAAOsB,EAAetB,EAAEmB,OAAOH,UAE3C,uBAAOxC,UAAU,OAAOsC,KAAK,SAASE,MAAM,uBC+CnCQ,MAzDf,WAAgB,IAAD,EACmB1D,qBADnB,mBACLT,EADK,KACIoE,EADJ,OAEuB3D,qBAFvB,mBAELuB,EAFK,KAEMC,EAFN,KAIPzB,EAAe,SAACK,GACpBoB,IACAlB,MAAM,aAAD,OAAcF,IAChBG,MAAK,SAAAC,GACJ,OAAIA,EAAIkC,GACClC,EAAIC,OAEJD,EAAImC,OAAOpC,MAAK,SAAAqC,GACrB,MAAM,IAAIC,MAAMD,SAIrBrC,MAAK,SAAAqD,GAAC,OAAID,EAAWC,MACrBd,OAAM,SAAAZ,GACLV,EAAaU,EAAEa,SAAW,iCAQhC,OAJA1C,qBAAU,WACRN,EAzBqB,cA0BpB,IAGD,qCACE,wBAAQW,UAAU,mBAAlB,SACE,oBAAIA,UAAU,KAAd,+CAGF,sBAAKA,UAAU,iBAAf,UACE,cAAC,EAAD,CAAeX,aAAcA,IAC7B,qBAAKW,UAAU,MAAf,SAAsBa,IACtB,cAAC,EAAD,CAAqBhC,QAASA,EAASQ,aAAcA,IACrD,cAAC,EAAD,CAAkBD,gBAAiBP,EAASQ,aAAcA,OAG5D,yBAAQW,UAAU,4CAAlB,UACE,0CAEE,mBAAGA,UAAU,OAAOmD,KAAK,gCAAzB,uCAEF,oBAAGnD,UAAU,MAAb,UACE,mBAAGmD,KAAK,wCAAwCR,OAAO,SAASS,IAAI,aAApE,sBAGA,mBAAGpD,UAAU,OAAOmD,KAAK,uCAAuCR,OAAO,SAASS,IAAI,aAApF,mCC9CKC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqB1D,MAAK,YAAkD,IAA/C2D,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SAM1BZ,M","file":"static/js/main.be5084d7.chunk.js","sourcesContent":["export const placeholderProductImage = \"/placeholder-product-image.png\";\n\nexport const getProductImage = (product) => {\n  const { base_url, primary } = product?.item?.enrichment?.images?.[0] || {};\n  return base_url && primary ? `${base_url}${primary}` : placeholderProductImage;\n};\n","import \"./FeaturedProducts.css\";\n\nimport { useEffect, useState } from \"react\";\n\nimport { getProductImage } from \"../../utils/product\";\n\nfunction FeaturedProducts({ selectedProduct, fetchProduct }) {\n  const [ featuredProducts, setFeaturedProducts ] = useState([]);\n\n  const selectedProductTcin = selectedProduct?.item?.tcin;\n\n  useEffect(() => {\n    fetch(\"/products\")\n      .then(res => res.json())\n      .then(featuredProducts => setFeaturedProducts(featuredProducts));\n  }, []);\n\n  return (\n    <>\n      <h2>Featured Products</h2>\n      <div className=\"flex overflow-auto space-between\">\n        {featuredProducts?.map(product => {\n          const tcin = product?.item?.tcin;\n          const isSelected = tcin === selectedProductTcin;\n          return (\n              <button className=\"cursor-pointer\" onClick={() => fetchProduct(tcin)}>\n                <img\n                    key={tcin}\n                    className={isSelected ? \"selectedProduct\" : null}\n                    alt=\"\"\n                    src={getProductImage(product)} height=\"150px\"\n                />\n              </button>\n          );\n        })}\n      </div>\n    </>\n  );\n}\n\nexport default FeaturedProducts;\n","import \"./ProductDetailedView.css\";\n\nimport { useEffect, useState } from \"react\";\n\nimport { getProductImage } from \"../../utils/product\"\n\nfunction ProductDetailedView({ product = {}, fetchProduct }) {\n  const {\n    priceInfo,\n    item: {\n      product_description,\n      tcin\n    } = {}\n  } = product;\n\n  const [ priceValue, setPriceValue ] = useState(priceInfo?.price);\n  const [ errorText, setErrorText ] = useState();\n\n  const handleUpdatePrice = (e) => {\n    e.preventDefault();\n    setErrorText();\n\n    const options = {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json; charset=UTF-8\"\n      },\n      body: JSON.stringify({ price: priceValue })\n    };\n    fetch(`/products/${tcin}`, options)\n      .then(res => {\n        if (res.ok) {\n          fetchProduct(tcin);\n        } else {\n          return res.text().then(msg => {\n            throw new Error(msg);\n          });\n        }\n      })\n      .catch(e => {\n        setErrorText(e.message || \"An unknown error occurred\");\n      });\n  };\n\n  useEffect(() => {\n    setPriceValue(priceInfo?.price);\n  }, [ product, priceInfo?.price ]);\n\n  return (\n    <div className=\"product-detailed-view flex flex-column\">\n      <div className=\"p20 mc\">\n        <img alt=\"\" src={getProductImage(product)} height=\"250px\" />\n        <h2 className=\"f1\" dangerouslySetInnerHTML={{ __html: product_description?.title }}/>\n        <p>{priceInfo?.currency}{priceInfo?.price || \"See price in cart\"}</p>\n      </div>\n      <div className=\"p20\">\n        <p className=\"m0\" dangerouslySetInnerHTML={{ __html: product_description?.downstream_description }} />\n        <div className=\"mt20\">\n          {product_description?.bullet_description?.map(\n            (b, i) => <div key={i} dangerouslySetInnerHTML={{ __html: b }} />)\n          }\n        </div>\n        <form onSubmit={handleUpdatePrice}>\n          <input\n            className=\"mt20\"\n            type=\"number\"\n            step=\"any\"\n            value={priceValue}\n            onChange={(e) => setPriceValue(Number(e.target.value))}\n          />\n          <input className=\"mb20\" type=\"submit\" value=\"Update Price\" />\n        </form>\n        <span className=\"ml20 red\">{errorText}</span>\n      </div>\n    </div>\n  );\n}\n\nexport default ProductDetailedView;\n","import \"./ProductSearch.css\";\n\nimport { useState } from \"react\";\n\nfunction ProductSearch({ fetchProduct }) {\n  const [ searchValue, setSearchValue ] = useState(\"\");\n\n  const handleProductSearch = e => {\n    e.preventDefault();\n    fetchProduct(searchValue);\n  };\n\n  return (\n    <form onSubmit={handleProductSearch}>\n      <input\n        type=\"text\"\n        maxLength={8}\n        value={searchValue}\n        onChange={(e) => setSearchValue(e.target.value)}\n      />\n      <input className=\"mb20\" type=\"submit\" value=\"Search Product\" />\n    </form>\n  );\n}\n\nexport default ProductSearch;\n","import \"./App.css\";\n\nimport { useEffect, useState } from \"react\";\n\nimport FeaturedProducts from \"./modules/FeaturedProducts\";\nimport ProductDetailedView from \"./modules/ProductDetailedView\";\nimport ProductSearch from \"./modules/ProductSearch\";\n\nconst initialProductId = \"13860428\";\n\nfunction App() {\n  const [ product, setProduct ] = useState();\n  const [ errorText, setErrorText ] = useState();\n\n  const fetchProduct = (tcin) => {\n    setErrorText();\n    fetch(`/products/${tcin}`)\n      .then(res => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          return res.text().then(msg => {\n            throw new Error(msg);\n          });\n        }\n      })\n      .then(p => setProduct(p))\n      .catch(e => {\n        setErrorText(e.message || \"An unknown error occurred\");\n      });\n  };\n\n  useEffect(() => {\n    fetchProduct(initialProductId);\n  }, []);\n\n  return (\n    <>\n      <header className=\"globalHeader p20\">\n        <h1 className=\"m0\">myRetail Product Data Interface</h1>\n      </header>\n\n      <div className=\"content p20 mc\">\n        <ProductSearch fetchProduct={fetchProduct} />\n        <div className=\"red\">{errorText}</div>\n        <ProductDetailedView product={product} fetchProduct={fetchProduct} />\n        <FeaturedProducts selectedProduct={product} fetchProduct={fetchProduct} />\n      </div>\n\n      <footer className=\"globalFooter flex flex-column text-center\">\n        <p>\n          Joon Park\n          <a className=\"ml20\" href=\"mailto:joonmopark94@gmail.com\">joonmopark94@gmail.com</a>\n        </p>\n        <p className=\"mt0\">\n          <a href=\"https://www.linkedin.com/in/joon-park\" target=\"_blank\" rel=\"noreferrer\">\n            LinkedIn\n          </a>\n          <a className=\"ml20\" href=\"https://github.com/parkjoon/myretail\" target=\"_blank\" rel=\"noreferrer\">\n            GitHub Repo\n          </a>\n        </p>\n      </footer>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}